<!doctype html>
<html lang="zh-CN">
  <head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>数据可视化 - 数智估价核心引擎 - ValuHub</title>
    <!-- 引入图标库 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- 引入共享样式 -->
    <link rel="stylesheet" href="shared.css" />
    <!-- 引入扩展样式 -->
    <link rel="stylesheet" href="extend.css" />
    <!-- 引入图表库 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 页面特定样式 -->
    <style>
      /* 数据可视化页面样式 */
      .data-visualization {
        padding: 40px 0;
        background: #f8f9fa;
      }

      .visualization-header {
        text-align: center;
        margin-bottom: 60px;
      }

      .visualization-header h2 {
        font-size: 36px;
        margin-bottom: 20px;
        color: #1d2129;
      }

      .visualization-header p {
        font-size: 18px;
        color: #666;
        max-width: 800px;
        margin: 0 auto;
      }

      /* 筛选器 */
      .filters {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-bottom: 40px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        align-items: flex-end;
        justify-content: space-between;
      }

      .filter-group {
        flex: 1;
        min-width: 200px;
      }

      .filter-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #333;
      }

      .filter-group select,
      .filter-group input {
        width: 100%;
        padding: 10px 15px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
      }

      .filter-group select:focus,
      .filter-group input:focus {
        outline: none;
        border-color: #007aff;
      }

      .apply-filters {
        background: #007aff;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
        white-space: nowrap;
      }

      .apply-filters:hover {
        background: #0056cc;
        transform: translateY(-2px);
      }

      /* 图表区域 */
      .charts-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
        gap: 40px;
        margin-bottom: 60px;
      }

      .chart-card {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        transition:
          transform 0.3s,
          box-shadow 0.3s;
      }

      .chart-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #f0f0f0;
      }

      .chart-title {
        font-size: 20px;
        font-weight: 600;
        color: #1d2129;
      }

      .chart-actions {
        display: flex;
        gap: 10px;
      }

      .chart-action-btn {
        background: #f0f0f0;
        border: none;
        padding: 8px 15px;
        border-radius: 6px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .chart-action-btn:hover {
        background: #e0e0e0;
      }

      .chart-action-btn.active {
        background: #007aff;
        color: white;
      }

      .chart-container {
        position: relative;
        height: 300px;
        width: 100%;
      }

      /* 数据卡片 */
      .data-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
      }

      .data-card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s;
        border-top: 4px solid #007aff;
      }

      .data-card:hover {
        transform: translateY(-5px);
      }

      .data-card h4 {
        font-size: 18px;
        color: #666;
        margin-bottom: 15px;
        font-weight: 500;
      }

      .data-value {
        font-size: 32px;
        font-weight: 700;
        color: #007aff;
        margin-bottom: 10px;
      }

      .data-change {
        display: inline-flex;
        align-items: center;
        font-size: 14px;
        padding: 4px 12px;
        border-radius: 20px;
      }

      .data-change.positive {
        background: #e6f7e9;
        color: #38cb89;
      }

      .data-change.negative {
        background: #feeceb;
        color: #ff4d4f;
      }

      /* 详细数据表格 */
      .data-table-container {
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        margin-bottom: 60px;
      }

      .data-table-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
      }

      .data-table-title {
        font-size: 24px;
        font-weight: 600;
        color: #1d2129;
      }

      .data-table-actions {
        display: flex;
        gap: 15px;
      }

      .data-table-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
        border: none;
        text-decoration: none;
      }

      .data-table-btn.export {
        background: #52c41a;
        color: white;
      }

      .data-table-btn.export:hover {
        background: #389e0d;
      }

      .data-table-btn.refresh {
        background: #f0f0f0;
        color: #666;
      }

      .data-table-btn.refresh:hover {
        background: #e0e0e0;
      }

      /* 表格样式 */
      .data-table {
        width: 100%;
        border-collapse: collapse;
        overflow-x: auto;
      }

      .data-table th {
        background: #f8f9fa;
        padding: 15px;
        text-align: left;
        font-weight: 600;
        color: #333;
        border-bottom: 2px solid #e5e7eb;
      }

      .data-table td {
        padding: 15px;
        border-bottom: 1px solid #e5e7eb;
        color: #666;
      }

      .data-table tr:hover {
        background: #f8f9fa;
      }

      /* 响应式设计 */
      @media (max-width: 1200px) {
        .charts-container {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        .visualization-header h2 {
          font-size: 28px;
        }

        .visualization-header p {
          font-size: 16px;
        }

        .filters {
          flex-direction: column;
          align-items: stretch;
        }

        .filter-group {
          min-width: 100%;
        }

        .chart-card,
        .data-table-container {
          padding: 20px;
        }

        .chart-container {
          height: 250px;
        }

        .data-table-header {
          flex-direction: column;
          align-items: stretch;
          gap: 20px;
        }

        .data-table-actions {
          justify-content: center;
        }

        .data-cards {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
      }

      @media (max-width: 480px) {
        .chart-card,
        .data-table-container {
          padding: 15px;
        }

        .chart-header {
          flex-direction: column;
          align-items: stretch;
          gap: 15px;
        }

        .chart-actions {
          justify-content: center;
        }

        .data-card {
          padding: 20px 15px;
        }

        .data-value {
          font-size: 28px;
        }
      }

      /* 加载动画 */
      .chart-loading {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 250px;
        color: #999;
      }

      .chart-loading::after {
        content: '';
        width: 40px;
        height: 40px;
        border: 3px solid #e0e0e0;
        border-top-color: #007aff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-left: 15px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* 无数据状态 */
      .no-data {
        text-align: center;
        padding: 60px 20px;
        color: #999;
      }

      .no-data i {
        font-size: 48px;
        margin-bottom: 20px;
        color: #e0e0e0;
      }

      .no-data h4 {
        font-size: 18px;
        margin-bottom: 10px;
        color: #666;
      }
    
        img[src="图片1.png"] {
            max-width: 45px !important;
            max-height: 45px !important;
            width: 45px !important;
            height: 45px !important;
            object-fit: contain !important;
            display: inline-block !important;
        }
    </style>
  








<style>
/* 通用修复样式 - 确保文字横向显示和导航栏增大 */

/* 最高优先级 - 确保所有元素文字横向显示 */
*,
*::before,
*::after {
    writing-mode: horizontal-tb !important;
    text-orientation: mixed !important;
    direction: ltr !important;
    /* 只确保文字横向，不强制flex布局，让文本正常换行 */
}

/* 确保文本元素正常显示空格和换行 */
p,
span,
div,
th,
td,
li,
strong,
em,
ai,
button,
input,
textarea,
select,
label,
h1,
h2,
h3,
h4,
h5,
h6 {
    display: block !important;
    white-space: normal !important;
    word-break: normal !important;
    overflow-wrap: break-word !important;
}

/* 修复LOGO文字竖向显示问题 */
.navbar-brand,
.logo {
    display: flex !important;
    align-items: center !important;
    gap: var(--spacing-2) !important;
    flex-direction: row !important;
    white-space: nowrap !important;
}

.navbar-brand img,
.logo img {
    display: inline-block !important;
    vertical-align: middle !important;
    max-width: 50px !important;
    max-height: 50px !important;
    width: 50px !important;
    height: 50px !important;
    object-fit: contain !important;
}

.navbar-brand span,
.navbar-brand a,
.logo span,
.logo a {
    display: inline-block !important;
    vertical-align: middle !important;
}

/* 确保导航栏和菜单正确显示 */
.navbar {
    height: 80px !important;
    padding: 16px 24px !important;
    min-height: 80px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
}

/* 导航菜单样式 */
.nav-menu {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: var(--spacing-4) !important;
}

.nav-menu a {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 80px !important;
    padding: 0 16px !important;
    font-size: 16px !important;
    line-height: 1 !important;
    text-decoration: none !important;
    color: inherit !important;
    white-space: nowrap !important;
}

/* 导航按钮样式 */
.nav-menu .btn {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: auto !important;
    min-height: 40px !important;
    padding: 8px 16px !important;
    font-size: 14px !important;
    line-height: 1 !important;
}

/* 确保容器元素横向显示 */
.d-flex,
.align-items-center,
.justify-content-between,
.justify-content-center,
.hero-buttons,
.filter-group,
.filter-search-section,
.action-buttons,
.nav-actions,
.nav-left,
.nav-right,
.user-info,
.stat-header,
.score-item-header {
    display: flex !important;
    flex-direction: row !important;
}

/* 移动端菜单按钮样式 */
.btn-text.d-lg-none {
    display: none !important;
}

/* 确保网格布局正常显示 */
.grid,
.grid-cols-4,
.grid-cols-3,
.grid-cols-2 {
    display: grid !important;
    flex-direction: initial !important;
}

/* 确保表格布局正常显示 */
table,
tr,
thead,
tbody,
th,
td {
    display: table !important;
    display: table-row !important;
    display: table-header-group !important;
    display: table-row-group !important;
    display: table-cell !important;
    flex-direction: initial !important;
}

/* 确保列表布局正常显示 */
ul,
ol,
li {
    display: list-item !important;
    flex-direction: initial !important;
}

/* 确保表单元素正常显示 */
input,
textarea,
select,
button {
    display: inline-block !important;
    flex-direction: initial !important;
}

/* 确保文本内容正常显示换行和空格 */
.text-content,
.card-content,
.main-content,
.scoring-content,
.page-header,
.analysis-title,
.analysis-subtitle,
.chart-container,
.card,
.card-header,
.status-tag,
.score-display,
.pagination,
.pagination-info,
.score-detail-body,
.detail-section,
.detail-title,
.detail-item,
.detail-label,
.detail-value,
.score-item-name,
.score-item-weight,
.score-item-score,
.score-item-description,
.form-group,
.form-label {
    display: block !important;
    flex-direction: initial !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    word-break: normal !important;
}
</style>
</head>
  <body>
    <!-- 1. 导航栏（统一模板） -->
    <nav class="navbar">
      <div class="container">
        <a href="index.html" class="logo">
          <div class="logo-icon">
            <img
              src="src/assets/images/logo.svg"
              alt="系统Logo"
              width="32"
              height="32"
              style="object-fit: contain"
            />
          </div>
          <span class="logo-text">数智估价核心引擎</span>
        </a>
        <div class="nav-menu">
          <a href="index.html" class="">首页</a>
          <!-- 产品服务下拉菜单 -->
          <div class="dropdown">
            <a href="#" class="dropdown-toggle"
              >产品服务 <i class="fas fa-chevron-down"></i
            ></a>
            <div class="dropdown-menu">
              <a href="valuation-engine.html" class="">估价引擎</a>
              <a href="advanced-search.html" class="">高级搜索</a>
              <a href="product-services.html" class="">产品服务</a>
            </div>
          </div>
          <!-- 用户中心 -->
          <a href="user-center.html" class="">用户中心</a>
          <!-- 数据分析下拉菜单 -->
          <div class="dropdown">
            <a href="#" class="dropdown-toggle"
              >数据分析 <i class="fas fa-chevron-down"></i
            ></a>
            <div class="dropdown-menu">
              <a href="market-analysis.html" class="">市场分析</a>
              <a href="comparison-tool.html" class="">比较工具</a>
              <a href="data-visualization.html" class="">数据可视化</a>
              <a href="case-study.html" class="">客户案例</a>
            </div>
          </div>
          <!-- 评估预览下拉菜单 -->
          <div class="dropdown">
            <a href="#" class="dropdown-toggle"
              >评估预览 <i class="fas fa-chevron-down"></i
            ></a>
            <div class="dropdown-menu">
              <a href="gis-evaluation-preview.html" class="">GIS评估预览</a>
              <a href="revenue-evaluation-preview.html" class=""
                >收益评估预览</a
              >
            </div>
          </div>
          <!-- 关于我们下拉菜单 -->
          <div class="dropdown">
            <a href="#" class="dropdown-toggle"
              >关于我们 <i class="fas fa-chevron-down"></i
            ></a>
            <div class="dropdown-menu">
              <a href="tech-frame.html" class="">技术框架</a>
              <a href="api-docs.html" class="">API文档</a>
              <a href="team-intro.html" class="">团队介绍</a>
              <a href="about-us.html" class="">关于我们</a>
            </div>
          </div>
          <!-- 登录按钮 -->
          <button class="btn btn-primary" id="loginBtn">登录</button>
        </div>
        <div class="menu-toggle" id="menuToggle">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </nav>

    <!-- 移动端菜单 -->
    <div class="mobile-menu" id="mobileMenu">
      <ul>
        <li><a href="index.html" class="">首页</a></li>
        <li><a href="valuation-engine.html">估价引擎</a></li>
        <li><a href="advanced-search.html">高级搜索</a></li>
        <li><a href="user-center.html">用户中心</a></li>
        <li><a href="market-analysis.html">市场分析</a></li>
        <li><a href="comparison-tool.html">比较工具</a></li>
        <li><a href="data-visualization.html">数据可视化</a></li>
        <li><a href="case-study.html">客户案例</a></li>
        <li><a href="product-services.html">产品服务</a></li>
        <li><a href="gis-evaluation-preview.html">GIS评估预览</a></li>
        <li><a href="revenue-evaluation-preview.html">收益评估预览</a></li>
        <li><a href="tech-frame.html">技术框架</a></li>
        <li><a href="api-docs.html">API文档</a></li>
        <li><a href="team-intro.html">团队介绍</a></li>
        <li><a href="about-us.html">关于我们</a></li>
        <li><a href="contact.html">联系方式</a></li>
        <li><a href="help-center.html">帮助中心</a></li>
      </ul>
    </div>

    <!-- 导航栏JavaScript -->
    <script>
      // 移动端菜单切换
      document
        .getElementById('menuToggle')
        .addEventListener('click', function () {
          const mobileMenu = document.getElementById('mobileMenu');
          mobileMenu.style.display =
            mobileMenu.style.display === 'none' ? 'block' : 'none';
        });

      // 点击外部关闭移动端菜单
      document.addEventListener('click', function (e) {
        const mobileMenu = document.getElementById('mobileMenu');
        const menuToggle = document.getElementById('menuToggle');
        if (!mobileMenu.contains(e.target) && !menuToggle.contains(e.target)) {
          mobileMenu.style.display = 'none';
        }
      });
    </script>

    <!-- 2. 封面区 -->
    <section class="hero">
      <div class="container">
        <h1><span>数据可视化</span></h1>
        <p>通过直观的图表和分析，了解房产市场趋势、价格波动和投资机会</p>
      </div>
    </section>

    <!-- 3. 数据可视化主要内容 -->
    <div class="container">
      <!-- 筛选器 -->
      <div class="filters">
        <div class="filter-group">
          <label for="city-select">选择城市</label>
          <select id="city-select">
            <option value="beijing">北京</option>
            <option value="shanghai">上海</option>
            <option value="guangzhou">广州</option>
            <option value="shenzhen">深圳</option>
            <option value="hangzhou">杭州</option>
            <option value="nanjing">南京</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="district-select">选择区域</label>
          <select id="district-select">
            <option value="all">全部区域</option>
            <option value="chaoyang">朝阳区</option>
            <option value="haidian">海淀区</option>
            <option value="dongcheng">东城区</option>
            <option value="xicheng">西城区</option>
            <option value="fengtai">丰台区</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="property-type">房产类型</label>
          <select id="property-type">
            <option value="all">全部类型</option>
            <option value="apartment">公寓</option>
            <option value="villa">别墅</option>
            <option value="commercial">商业</option>
            <option value="office">写字楼</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="time-range">时间范围</label>
          <select id="time-range">
            <option value="1month">近1个月</option>
            <option value="3months">近3个月</option>
            <option value="6months">近6个月</option>
            <option value="1year">近1年</option>
            <option value="3years">近3年</option>
          </select>
        </div>

        <button class="apply-filters">应用筛选</button>
      </div>

      <!-- 关键指标数据卡片 -->
      <div class="data-cards">
        <div class="data-card">
          <h4>平均房价</h4>
          <div class="data-value">¥65,320</div>
          <div class="data-change positive">
            <i class="fas fa-arrow-up"></i>
            <span>2.3%</span>
          </div>
        </div>

        <div class="data-card">
          <h4>成交量</h4>
          <div class="data-value">4,238</div>
          <div class="data-change negative">
            <i class="fas fa-arrow-down"></i>
            <span>1.5%</span>
          </div>
        </div>

        <div class="data-card">
          <h4>挂牌均价</h4>
          <div class="data-value">¥68,950</div>
          <div class="data-change positive">
            <i class="fas fa-arrow-up"></i>
            <span>3.1%</span>
          </div>
        </div>

        <div class="data-card">
          <h4>市场活跃度</h4>
          <div class="data-value">78.2</div>
          <div class="data-change positive">
            <i class="fas fa-arrow-up"></i>
            <span>5.7%</span>
          </div>
        </div>
      </div>

      <!-- 图表区域 -->
      <div class="charts-container">
        <!-- 房价走势图 -->
        <div class="chart-card">
          <div class="chart-header">
            <div class="chart-title">平均房价走势</div>
            <div class="chart-actions">
              <button class="chart-action-btn active">月度</button>
              <button class="chart-action-btn">季度</button>
              <button class="chart-action-btn">年度</button>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="priceChart"></canvas>
          </div>
        </div>

        <!-- 成交量走势图 -->
        <div class="chart-card">
          <div class="chart-header">
            <div class="chart-title">成交量走势</div>
            <div class="chart-actions">
              <button class="chart-action-btn active">月度</button>
              <button class="chart-action-btn">季度</button>
              <button class="chart-action-btn">年度</button>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="volumeChart"></canvas>
          </div>
        </div>

        <!-- 区域房价对比 -->
        <div class="chart-card">
          <div class="chart-header">
            <div class="chart-title">区域房价对比</div>
            <div class="chart-actions">
              <button class="chart-action-btn active">柱状图</button>
              <button class="chart-action-btn">饼图</button>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="districtChart"></canvas>
          </div>
        </div>

        <!-- 房产类型分布 -->
        <div class="chart-card">
          <div class="chart-header">
            <div class="chart-title">房产类型分布</div>
            <div class="chart-actions">
              <button class="chart-action-btn active">饼图</button>
              <button class="chart-action-btn">环形图</button>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="typeChart"></canvas>
          </div>
        </div>
      </div>

      <!-- 详细数据表格 -->
      <div class="data-table-container">
        <div class="data-table-header">
          <div class="data-table-title">详细市场数据</div>
          <div class="data-table-actions">
            <a href="#" class="data-table-btn export">
              <i class="fas fa-file-export"></i>
              <span>导出数据</span>
            </a>
            <button class="data-table-btn refresh">
              <i class="fas fa-sync-alt"></i>
              <span>刷新数据</span>
            </button>
          </div>
        </div>

        <div class="table-responsive">
          <table class="data-table">
            <thead>
              <tr>
                <th>区域</th>
                <th>房产类型</th>
                <th>平均单价(元/㎡)</th>
                <th>环比变化</th>
                <th>同比变化</th>
                <th>成交量</th>
                <th>库存套数</th>
                <th>平均成交周期(天)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>朝阳区</td>
                <td>公寓</td>
                <td>78,500</td>
                <td class="data-change positive">+2.8%</td>
                <td class="data-change positive">+4.5%</td>
                <td>856</td>
                <td>2,456</td>
                <td>38</td>
              </tr>
              <tr>
                <td>海淀区</td>
                <td>公寓</td>
                <td>82,300</td>
                <td class="data-change positive">+3.1%</td>
                <td class="data-change positive">+5.2%</td>
                <td>723</td>
                <td>1,890</td>
                <td>42</td>
              </tr>
              <tr>
                <td>东城区</td>
                <td>公寓</td>
                <td>91,200</td>
                <td class="data-change positive">+1.9%</td>
                <td class="data-change positive">+3.8%</td>
                <td>345</td>
                <td>987</td>
                <td>45</td>
              </tr>
              <tr>
                <td>西城区</td>
                <td>公寓</td>
                <td>95,600</td>
                <td class="data-change positive">+2.5%</td>
                <td class="data-change positive">+4.9%</td>
                <td>298</td>
                <td>876</td>
                <td>48</td>
              </tr>
              <tr>
                <td>丰台区</td>
                <td>公寓</td>
                <td>62,400</td>
                <td class="data-change positive">+1.7%</td>
                <td class="data-change positive">+3.2%</td>
                <td>567</td>
                <td>1,654</td>
                <td>35</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- 4. 页脚 -->
    <footer class="footer">
      <div class="container">
        <div class="footer-col">
          <h3>关于我们</h3>
          <a href="about-us.html">公司简介</a>
          <a href="team-intro.html">团队介绍</a>
          <a href="#">企业文化</a>
          <a href="#">发展历程</a>
        </div>
        <div class="footer-col">
          <h3>产品服务</h3>
          <a href="product-services.html">核心产品</a>
          <a href="core-function.html">功能介绍</a>
          <a href="case-study.html">成功案例</a>
          <a href="#">解决方案</a>
        </div>
        <div class="footer-col">
          <h3>资源中心</h3>
          <a href="industry-news.html">行业动态</a>
          <a href="help-center.html">帮助中心</a>
          <a href="#">技术文档</a>
          <a href="#">白皮书</a>
        </div>
        <div class="footer-col">
          <h3>法律信息</h3>
          <a href="privacy-policy.html">隐私政策</a>
          <a href="terms-of-service.html">服务条款</a>
          <a href="#">Cookie政策</a>
          <a href="#">法律声明</a>
        </div>
      </div>
      <div class="support-companies">
        <span>合作伙伴：腾讯云、阿里云、百度AI、华为云</span>
      </div>
      <div class="copyright">
        <p>© 2024 数智估价核心引擎. 保留所有权利.</p>
      </div>
    </footer>

    <!-- 引入共享JavaScript -->
    <script src="js/shared.js"></script>
    <!-- 页面特定JavaScript -->
    <script>
      // 图表数据和配置
      const chartData = {
        // 房价走势数据
        priceData: {
          labels: [
            '1月',
            '2月',
            '3月',
            '4月',
            '5月',
            '6月',
            '7月',
            '8月',
            '9月',
            '10月',
            '11月',
            '12月',
          ],
          datasets: [
            {
              label: '平均房价(元/㎡)',
              data: [
                62500, 63200, 63800, 64100, 64500, 64800, 65200, 65600, 66000,
                65800, 65500, 65320,
              ],
              borderColor: '#007AFF',
              backgroundColor: 'rgba(0, 122, 255, 0.1)',
              borderWidth: 3,
              tension: 0.4,
              fill: true,
            },
          ],
        },

        // 成交量数据
        volumeData: {
          labels: [
            '1月',
            '2月',
            '3月',
            '4月',
            '5月',
            '6月',
            '7月',
            '8月',
            '9月',
            '10月',
            '11月',
            '12月',
          ],
          datasets: [
            {
              label: '成交量(套)',
              data: [
                3890, 3650, 4120, 4350, 4580, 4720, 4650, 4520, 4480, 4390,
                4310, 4238,
              ],
              backgroundColor: '#38CB89',
              borderColor: '#38CB89',
              borderWidth: 1,
            },
          ],
        },

        // 区域房价数据
        districtData: {
          labels: ['朝阳区', '海淀区', '东城区', '西城区', '丰台区'],
          datasets: [
            {
              label: '平均房价(元/㎡)',
              data: [78500, 82300, 91200, 95600, 62400],
              backgroundColor: [
                '#007AFF',
                '#52C41A',
                '#FF6B35',
                '#722ED1',
                '#FAAD14',
              ],
              borderWidth: 1,
            },
          ],
        },

        // 房产类型分布数据
        typeData: {
          labels: ['公寓', '别墅', '商业', '写字楼'],
          datasets: [
            {
              label: '占比',
              data: [65, 15, 12, 8],
              backgroundColor: ['#007AFF', '#52C41A', '#FF6B35', '#722ED1'],
              borderWidth: 1,
            },
          ],
        },
      };

      // 图表配置
      const chartConfig = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
            labels: {
              font: {
                size: 14,
              },
              color: '#333',
            },
          },
          tooltip: {
            backgroundColor: 'rgba(0, 0, 0, 0.8)',
            padding: 12,
            titleFont: {
              size: 14,
            },
            bodyFont: {
              size: 13,
            },
          },
        },
        scales: {
          x: {
            grid: {
              display: false,
            },
            ticks: {
              color: '#666',
            },
          },
          y: {
            grid: {
              borderDash: [2, 2],
              color: '#E0E0E0',
            },
            ticks: {
              color: '#666',
            },
          },
        },
      };

      // 初始化图表
      function initCharts() {
        // 房价走势图
        const priceChartCtx = document
          .getElementById('priceChart')
          .getContext('2d');
        const priceChartConfig = {
          ...chartConfig,
          type: 'line',
          data: chartData.priceData,
        };
        new Chart(priceChartCtx, priceChartConfig);

        // 成交量走势图
        const volumeChartCtx = document
          .getElementById('volumeChart')
          .getContext('2d');
        const volumeChartConfig = {
          ...chartConfig,
          type: 'bar',
          data: chartData.volumeData,
        };
        new Chart(volumeChartCtx, volumeChartConfig);

        // 区域房价对比
        const districtChartCtx = document
          .getElementById('districtChart')
          .getContext('2d');
        const districtChartConfig = {
          ...chartConfig,
          type: 'bar',
          data: chartData.districtData,
        };
        new Chart(districtChartCtx, districtChartConfig);

        // 房产类型分布
        const typeChartCtx = document
          .getElementById('typeChart')
          .getContext('2d');
        const typeChartConfig = {
          ...chartConfig,
          type: 'pie',
          data: chartData.typeData,
          options: {
            ...chartConfig.options,
            plugins: {
              ...chartConfig.plugins,
              legend: {
                position: 'right',
              },
            },
          },
        };
        new Chart(typeChartCtx, typeChartConfig);
      }

      // 初始化筛选器事件
      function initFilters() {
        const applyBtn = document.querySelector('.apply-filters');
        applyBtn.addEventListener('click', function () {
          // 模拟数据加载
          showLoadingState();

          // 模拟API请求延迟
          setTimeout(() => {
            // 这里可以根据筛选条件更新图表数据
            updateCharts();
            hideLoadingState();

            // 显示更新成功消息
            if (typeof showMessage === 'function') {
              showMessage('数据已更新！', 'success');
            }

            // 记录用户操作
            if (typeof logUserOperation === 'function') {
              const city = document.getElementById('city-select').value;
              const district = document.getElementById('district-select').value;
              logUserOperation(
                '数据可视化',
                '应用筛选',
                `城市: ${city}, 区域: ${district}`
              );
            }
          }, 1000);
        });
      }

      // 初始化图表操作按钮
      function initChartActions() {
        const chartButtons = document.querySelectorAll('.chart-action-btn');

        chartButtons.forEach((button) => {
          button.addEventListener('click', function () {
            // 移除同组按钮的active状态
            const parent = this.parentElement;
            parent.querySelectorAll('.chart-action-btn').forEach((btn) => {
              btn.classList.remove('active');
            });

            // 添加当前按钮的active状态
            this.classList.add('active');

            // 根据按钮类型切换图表视图
            const chartCard = this.closest('.chart-card');
            const chartTitle =
              chartCard.querySelector('.chart-title').textContent;
            const buttonText = this.textContent;

            // 记录用户操作
            if (typeof logUserOperation === 'function') {
              logUserOperation(
                '数据可视化',
                '切换图表视图',
                `${chartTitle} - ${buttonText}`
              );
            }

            // 这里可以实现实际的图表类型切换逻辑
          });
        });
      }

      // 初始化表格操作按钮
      function initTableActions() {
        const exportBtn = document.querySelector('.data-table-btn.export');
        const refreshBtn = document.querySelector('.data-table-btn.refresh');

        if (exportBtn) {
          exportBtn.addEventListener('click', function (e) {
            e.preventDefault();

            // 模拟导出操作
            if (typeof showMessage === 'function') {
              showMessage('数据导出中，请稍候...', 'info');
            }

            setTimeout(() => {
              if (typeof showMessage === 'function') {
                showMessage('数据导出成功！', 'success');
              }

              // 记录用户操作
              if (typeof logUserOperation === 'function') {
                logUserOperation('数据可视化', '导出数据');
              }
            }, 1500);
          });
        }

        if (refreshBtn) {
          refreshBtn.addEventListener('click', function () {
            // 显示加载状态
            showLoadingState();

            // 模拟数据刷新
            setTimeout(() => {
              updateCharts();
              hideLoadingState();

              if (typeof showMessage === 'function') {
                showMessage('数据已刷新！', 'success');
              }

              // 记录用户操作
              if (typeof logUserOperation === 'function') {
                logUserOperation('数据可视化', '刷新数据');
              }
            }, 1000);
          });
        }
      }

      // 显示加载状态
      function showLoadingState() {
        const chartContainers = document.querySelectorAll('.chart-container');
        chartContainers.forEach((container) => {
          container.innerHTML = '<div class="chart-loading">正在加载数据</div>';
        });
      }

      // 隐藏加载状态并重新初始化图表
      function hideLoadingState() {
        const chartContainers = document.querySelectorAll('.chart-container');
        chartContainers.forEach((container, index) => {
          const canvasId = [
            'priceChart',
            'volumeChart',
            'districtChart',
            'typeChart',
          ][index];
          container.innerHTML = `<canvas id="${canvasId}"></canvas>`;
        });

        // 重新初始化图表
        initCharts();
      }

      // 更新图表数据（模拟）
      function updateCharts() {
        // 在实际应用中，这里会根据筛选条件获取新数据并更新图表
        // 这里仅做演示
        const randomFactor = (min, max) => Math.random() * (max - min) + min;

        // 模拟数据更新
        chartData.priceData.datasets[0].data =
          chartData.priceData.datasets[0].data.map((val) =>
            Math.round(val * randomFactor(0.98, 1.02))
          );

        chartData.volumeData.datasets[0].data =
          chartData.volumeData.datasets[0].data.map((val) =>
            Math.round(val * randomFactor(0.95, 1.05))
          );
      }

      // 页面初始化
      function pageInit() {
        // 初始化图表
        initCharts();

        // 初始化筛选器
        initFilters();

        // 初始化图表操作按钮
        initChartActions();

        // 初始化表格操作按钮
        initTableActions();

        // 记录页面访问
        if (typeof logUserOperation === 'function') {
          logUserOperation('数据可视化', '页面访问');
        }
      }

      // 等待DOM加载完成后执行初始化
      document.addEventListener('DOMContentLoaded', pageInit);
    </script>
  </body>
</html>
