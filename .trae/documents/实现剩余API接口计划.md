## 实现剩余API接口计划

### 1. 文件上传接口
- **POST /api/upload** - 上传文件
  - 支持多种文件类型
  - 验证文件大小和类型
  - 保存文件到服务器
  - 记录文件信息到数据库

- **GET /api/upload/:id** - 获取文件信息
  - 根据文件ID查询文件信息
  - 返回文件详细信息

- **GET /api/upload/:id/download** - 下载文件
  - 根据文件ID获取文件
  - 设置适当的响应头触发下载
  - 支持断点续传

- **DELETE /api/upload/:id** - 删除文件
  - 根据文件ID删除文件
  - 从数据库中移除文件记录
  - 从服务器删除实际文件

### 2. 地图辅助接口
- **GET /api/map/geocode** - 地理编码
  - 将地址转换为经纬度
  - 缓存结果到数据库
  - 支持批量查询

- **GET /api/map/reverse-geocode** - 逆地理编码
  - 将经纬度转换为地址
  - 缓存结果到数据库
  - 支持批量查询

- **GET /api/map/nearby-facilities** - 获取周边设施
  - 根据经纬度查询周边设施
  - 支持按类型筛选
  - 支持分页

### 3. 测试API接口功能
- 使用Postman或其他工具测试所有API接口
- 验证接口功能的正确性
- 测试边界情况和错误处理
- 确保所有接口都能正常工作

### 4. 更新前端服务
- 更新前端代码以使用新的API接口
- 确保前端与后端的良好集成
- 测试前端页面的功能

### 实现步骤
1. 实现文件上传接口
2. 实现地图辅助接口
3. 测试所有API接口
4. 更新前端服务

### 技术要点
- 使用Express.js的multer中间件处理文件上传
- 使用SQLite数据库存储文件和地理编码信息
- 实现适当的错误处理和验证
- 考虑性能优化和安全性
- 遵循RESTful API设计原则